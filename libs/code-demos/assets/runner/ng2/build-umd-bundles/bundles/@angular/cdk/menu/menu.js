!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/cdk/overlay"),require("@angular/cdk/keycodes"),require("rxjs/operators"),require("@angular/cdk/collections"),require("rxjs"),require("@angular/cdk/portal"),require("@angular/cdk/a11y"),require("@angular/cdk/coercion"),require("@angular/cdk/bidi"),require("@angular/cdk/platform")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/cdk/overlay","@angular/cdk/keycodes","rxjs/operators","@angular/cdk/collections","rxjs","@angular/cdk/portal","@angular/cdk/a11y","@angular/cdk/coercion","@angular/cdk/bidi","@angular/cdk/platform"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ngCdkMenu={},e.ngCore,e.ngCdkOverlay,e.ngCdkKeycodes,e.rxjsOperators,e.ngCdkCollections,e.rxjs,e.ngCdkPortal,e.ngCdkA11y,e.ngCdkCoercion,e.ngCdkBidi,e.ngCdkPlatform)}(this,(function(e,t,i,s,n,r,o,a,c,u,l,d){"use strict";function h(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(i){if("default"!==i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}})),t.default=e,Object.freeze(t)}var p=h(t);class g{}g.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:g,deps:[],target:p.ɵɵFactoryTarget.Directive}),g.ɵdir=p.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:g,isStandalone:!0,selector:"[cdkMenuGroup]",host:{attributes:{role:"group"},classAttribute:"cdk-menu-group"},providers:[{provide:r.UniqueSelectionDispatcher,useClass:r.UniqueSelectionDispatcher}],exportAs:["cdkMenuGroup"],ngImport:p}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:g,decorators:[{type:t.Directive,args:[{selector:"[cdkMenuGroup]",exportAs:"cdkMenuGroup",standalone:!0,host:{role:"group",class:"cdk-menu-group"},providers:[{provide:r.UniqueSelectionDispatcher,useClass:r.UniqueSelectionDispatcher}]}]}]});const m=new t.InjectionToken("cdk-menu"),y=new t.InjectionToken("cdk-menu-stack"),k={provide:y,deps:[[new t.Optional,new t.SkipSelf,new t.Inject(y)]],useFactory:e=>e||new M},_=e=>({provide:y,deps:[[new t.Optional,new t.SkipSelf,new t.Inject(y)]],useFactory:t=>t||M.inline(e)});let v=0;class M{constructor(){this.id=""+v++,this._elements=[],this._close=new o.Subject,this._empty=new o.Subject,this._hasFocus=new o.Subject,this.closed=this._close,this.hasFocus=this._hasFocus.pipe(n.startWith(!1),n.debounceTime(0),n.distinctUntilChanged()),this.emptied=this._empty,this._inlineMenuOrientation=null}static inline(e){const t=new M;return t._inlineMenuOrientation=e,t}push(e){this._elements.push(e)}close(e,t){const{focusNextOnEmpty:i,focusParentTrigger:s}={...t};if(this._elements.indexOf(e)>=0){let t;do{t=this._elements.pop(),this._close.next({item:t,focusParentTrigger:s})}while(t!==e);this.isEmpty()&&this._empty.next(i)}}closeSubMenuOf(e){let t=!1;if(this._elements.indexOf(e)>=0)for(t=this.peek()!==e;this.peek()!==e;)this._close.next({item:this._elements.pop()});return t}closeAll(e){const{focusNextOnEmpty:t,focusParentTrigger:i}={...e};if(!this.isEmpty()){for(;!this.isEmpty();){const e=this._elements.pop();e&&this._close.next({item:e,focusParentTrigger:i})}this._empty.next(t)}}isEmpty(){return!this._elements.length}length(){return this._elements.length}peek(){return this._elements[this._elements.length-1]}hasInlineMenu(){return null!=this._inlineMenuOrientation}inlineMenuOrientation(){return this._inlineMenuOrientation}setHasFocus(e){this._hasFocus.next(e)}}M.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:M,deps:[],target:p.ɵɵFactoryTarget.Injectable}),M.ɵprov=p.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:M}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:M,decorators:[{type:t.Injectable}]});const b=new t.InjectionToken("cdk-menu-trigger");class f{constructor(){this.injector=t.inject(t.Injector),this.viewContainerRef=t.inject(t.ViewContainerRef),this.menuStack=t.inject(y),this.opened=new t.EventEmitter,this.closed=new t.EventEmitter,this.overlayRef=null,this.destroyed=new o.Subject,this.stopOutsideClicksListener=o.merge(this.closed,this.destroyed)}ngOnDestroy(){this._destroyOverlay(),this.destroyed.next(),this.destroyed.complete()}isOpen(){return!!this.overlayRef?.hasAttached()}registerChildMenu(e){this.childMenu=e}getMenuContentPortal(){const e=this.menuTemplateRef!==this._menuPortal?.templateRef;return!this.menuTemplateRef||this._menuPortal&&!e||(this._menuPortal=new a.TemplatePortal(this.menuTemplateRef,this.viewContainerRef,this.menuData,this._getChildMenuInjector())),this._menuPortal}isElementInsideMenuStack(e){for(let t=e;t;t=t?.parentElement??null)if(t.getAttribute("data-cdk-menu-stack-id")===this.menuStack.id)return!0;return!1}_destroyOverlay(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null)}_getChildMenuInjector(){return this._childMenuInjector=this._childMenuInjector||t.Injector.create({providers:[{provide:b,useValue:this},{provide:y,useValue:this.menuStack}],parent:this.injector}),this._childMenuInjector}}f.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:f,deps:[],target:p.ɵɵFactoryTarget.Directive}),f.ɵdir=p.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:f,host:{properties:{"attr.aria-controls":"childMenu?.id","attr.data-cdk-menu-stack-id":"menuStack.id"}},ngImport:p}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:f,decorators:[{type:t.Directive,args:[{host:{"[attr.aria-controls]":"childMenu?.id","[attr.data-cdk-menu-stack-id]":"menuStack.id"}}]}]});const I=new t.InjectionToken("cdk-menu-aim");function T(e,t){return e.y-t*e.x}function D(e,t,i){const{left:s,right:n,top:r,bottom:o}=e;return t*s+i>=r&&t*s+i<=o||t*n+i>=r&&t*n+i<=o||(r-i)/t>=s&&(r-i)/t<=n||(o-i)/t>=s&&(o-i)/t<=n}class x{constructor(){this._ngZone=t.inject(t.NgZone),this._points=[],this._destroyed=new o.Subject}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}initialize(e,t){this._menu=e,this._pointerTracker=t,this._subscribeToMouseMoves()}toggle(e){"horizontal"===this._menu.orientation&&e(),this._checkConfigured();const t=!!this._timeoutId;this._points.length>1&&!t?this._isMovingToSubmenu()?this._startTimeout(e):e():t||e()}_startTimeout(e){const t=setTimeout((()=>{this._pointerTracker.activeElement&&t===this._timeoutId&&e(),this._timeoutId=null}),300);this._timeoutId=t}_isMovingToSubmenu(){const e=this._getSubmenuBounds();if(!e)return!1;let t=0;const i=this._points[this._points.length-1];for(let r=this._points.length-2;r>=0;r--){const o=this._points[r],a=(s=i,((n=o).y-s.y)/(n.x-s.x));D(e,a,T(i,a))&&t++}var s,n;return t>=Math.floor(2.5)}_getSubmenuBounds(){return this._pointerTracker?.previousElement?.getMenu()?.nativeElement.getBoundingClientRect()}_checkConfigured(){("undefined"==typeof ngDevMode||ngDevMode)&&(this._pointerTracker||function(){throw Error("expected an instance of PointerFocusTracker to be provided")}(),this._menu||function(){throw Error("expected a reference to the parent menu")}())}_subscribeToMouseMoves(){this._ngZone.runOutsideAngular((()=>{o.fromEvent(this._menu.nativeElement,"mousemove").pipe(n.filter(((e,t)=>t%3==0)),n.takeUntil(this._destroyed)).subscribe((e=>{this._points.push({x:e.clientX,y:e.clientY}),this._points.length>5&&this._points.shift()}))}))}}x.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:x,deps:[],target:p.ɵɵFactoryTarget.Injectable}),x.ɵprov=p.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:x}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:x,decorators:[{type:t.Injectable}]});class O{}O.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:O,deps:[],target:p.ɵɵFactoryTarget.Directive}),O.ɵdir=p.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:O,isStandalone:!0,selector:"[cdkTargetMenuAim]",providers:[{provide:I,useClass:x}],exportAs:["cdkTargetMenuAim"],ngImport:p}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:O,decorators:[{type:t.Directive,args:[{selector:"[cdkTargetMenuAim]",exportAs:"cdkTargetMenuAim",standalone:!0,providers:[{provide:I,useClass:x}]}]}]});class C extends f{constructor(){super(),this._elementRef=t.inject(t.ElementRef),this._overlay=t.inject(i.Overlay),this._ngZone=t.inject(t.NgZone),this._parentMenu=t.inject(m,{optional:!0}),this._menuAim=t.inject(I,{optional:!0}),this._directionality=t.inject(l.Directionality,{optional:!0}),this._setRole(),this._registerCloseHandler(),this._subscribeToMenuStackClosed(),this._subscribeToMouseEnter(),this._subscribeToMenuStackHasFocus(),this._setType()}toggle(){this.isOpen()?this.close():this.open()}open(){this.isOpen()||(this.opened.next(),this.overlayRef=this.overlayRef||this._overlay.create(this._getOverlayConfig()),this.overlayRef.attach(this.getMenuContentPortal()),this._subscribeToOutsideClicks())}close(){this.isOpen()&&(this.closed.next(),this.overlayRef.detach()),this._closeSiblingTriggers()}getMenu(){return this.childMenu}_toggleOnKeydown(e){const t="vertical"===this._parentMenu?.orientation;switch(e.keyCode){case s.SPACE:case s.ENTER:s.hasModifierKey(e)||(e.preventDefault(),this.toggle(),this.childMenu?.focusFirstItem("keyboard"));break;case s.RIGHT_ARROW:s.hasModifierKey(e)||this._parentMenu&&t&&"rtl"!==this._directionality?.value&&(e.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case s.LEFT_ARROW:s.hasModifierKey(e)||this._parentMenu&&t&&"rtl"===this._directionality?.value&&(e.preventDefault(),this.open(),this.childMenu?.focusFirstItem("keyboard"));break;case s.DOWN_ARROW:case s.UP_ARROW:s.hasModifierKey(e)||t||(e.preventDefault(),this.open(),e.keyCode===s.DOWN_ARROW?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusLastItem("keyboard"))}}_setHasFocus(e){this._parentMenu||this.menuStack.setHasFocus(e)}_subscribeToMouseEnter(){this._ngZone.runOutsideAngular((()=>{o.fromEvent(this._elementRef.nativeElement,"mouseenter").pipe(n.filter((()=>!this.menuStack.isEmpty()&&!this.isOpen())),n.takeUntil(this.destroyed)).subscribe((()=>{const e=()=>this._ngZone.run((()=>{this._closeSiblingTriggers(),this.open()}));this._menuAim?this._menuAim.toggle(e):e()}))}))}_closeSiblingTriggers(){if(this._parentMenu){!this.menuStack.closeSubMenuOf(this._parentMenu)&&this.menuStack.peek()!==this._parentMenu&&this.menuStack.closeAll()}else this.menuStack.closeAll()}_getOverlayConfig(){return new i.OverlayConfig({positionStrategy:this._getOverlayPositionStrategy(),scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this._elementRef).withLockedPosition().withGrowAfterOpen().withPositions(this._getOverlayPositions())}_getOverlayPositions(){return this.menuPosition??(this._parentMenu&&"horizontal"!==this._parentMenu.orientation?i.STANDARD_DROPDOWN_ADJACENT_POSITIONS:i.STANDARD_DROPDOWN_BELOW_POSITIONS)}_registerCloseHandler(){this._parentMenu||this.menuStack.closed.pipe(n.takeUntil(this.destroyed)).subscribe((({item:e})=>{e===this.childMenu&&this.close()}))}_subscribeToOutsideClicks(){this.overlayRef&&this.overlayRef.outsidePointerEvents().pipe(n.takeUntil(this.stopOutsideClicksListener)).subscribe((e=>{const t=d._getEventTarget(e),i=this._elementRef.nativeElement;t===i||i.contains(t)||(this.isElementInsideMenuStack(t)?this._closeSiblingTriggers():this.menuStack.closeAll())}))}_subscribeToMenuStackHasFocus(){this._parentMenu||this.menuStack.hasFocus.pipe(n.takeUntil(this.destroyed)).subscribe((e=>{e||this.menuStack.closeAll()}))}_subscribeToMenuStackClosed(){this._parentMenu||this.menuStack.closed.subscribe((({focusParentTrigger:e})=>{e&&!this.menuStack.length()&&this._elementRef.nativeElement.focus()}))}_setRole(){this._parentMenu||this._elementRef.nativeElement.setAttribute("role","button")}_setType(){const e=this._elementRef.nativeElement;"BUTTON"!==e.nodeName||e.getAttribute("type")||e.setAttribute("type","button")}}C.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:C,deps:[],target:p.ɵɵFactoryTarget.Directive}),C.ɵdir=p.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:C,isStandalone:!0,selector:"[cdkMenuTriggerFor]",inputs:{menuTemplateRef:["cdkMenuTriggerFor","menuTemplateRef"],menuPosition:["cdkMenuPosition","menuPosition"],menuData:["cdkMenuTriggerData","menuData"]},outputs:{opened:"cdkMenuOpened",closed:"cdkMenuClosed"},host:{attributes:{"aria-haspopup":"menu"},listeners:{focusin:"_setHasFocus(true)",focusout:"_setHasFocus(false)",keydown:"_toggleOnKeydown($event)",click:"toggle()"},properties:{"attr.aria-expanded":"isOpen()"},classAttribute:"cdk-menu-trigger"},providers:[{provide:b,useExisting:C},k],exportAs:["cdkMenuTriggerFor"],usesInheritance:!0,ngImport:p}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:C,decorators:[{type:t.Directive,args:[{selector:"[cdkMenuTriggerFor]",exportAs:"cdkMenuTriggerFor",standalone:!0,host:{class:"cdk-menu-trigger","aria-haspopup":"menu","[attr.aria-expanded]":"isOpen()","(focusin)":"_setHasFocus(true)","(focusout)":"_setHasFocus(false)","(keydown)":"_toggleOnKeydown($event)","(click)":"toggle()"},inputs:["menuTemplateRef: cdkMenuTriggerFor","menuPosition: cdkMenuPosition","menuData: cdkMenuTriggerData"],outputs:["opened: cdkMenuOpened","closed: cdkMenuClosed"],providers:[{provide:b,useExisting:C},k]}]}],ctorParameters:function(){return[]}});class S{constructor(){this._dir=t.inject(l.Directionality,{optional:!0}),this._elementRef=t.inject(t.ElementRef),this._ngZone=t.inject(t.NgZone),this._menuAim=t.inject(I,{optional:!0}),this._menuStack=t.inject(y),this._parentMenu=t.inject(m,{optional:!0}),this._menuTrigger=t.inject(C,{optional:!0,self:!0}),this._disabled=!1,this.triggered=new t.EventEmitter,this.hasMenu=!!this._menuTrigger,this._tabindex=-1,this.closeOnSpacebarTrigger=!0,this.destroyed=new o.Subject,this._setupMouseEnter(),this._setType(),this._isStandaloneItem()&&(this._tabindex=0)}get disabled(){return this._disabled}set disabled(e){this._disabled=u.coerceBooleanProperty(e)}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}trigger(e){const{keepOpen:t}={...e};this.disabled||this.hasMenu||(this.triggered.next(),t||this._menuStack.closeAll({focusParentTrigger:!0}))}isMenuOpen(){return!!this._menuTrigger?.isOpen()}getMenu(){return this._menuTrigger?.getMenu()}getMenuTrigger(){return this._menuTrigger}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}_resetTabIndex(){this._isStandaloneItem()||(this._tabindex=-1)}_setTabIndex(e){this.disabled||e&&this._menuStack.isEmpty()||(this._tabindex=0)}_onKeydown(e){switch(e.keyCode){case s.SPACE:case s.ENTER:s.hasModifierKey(e)||(e.preventDefault(),this.trigger({keepOpen:e.keyCode===s.SPACE&&!this.closeOnSpacebarTrigger}));break;case s.RIGHT_ARROW:s.hasModifierKey(e)||this._parentMenu&&this._isParentVertical()&&("rtl"!==this._dir?.value?this._forwardArrowPressed(e):this._backArrowPressed(e));break;case s.LEFT_ARROW:s.hasModifierKey(e)||this._parentMenu&&this._isParentVertical()&&("rtl"!==this._dir?.value?this._backArrowPressed(e):this._forwardArrowPressed(e))}}_isStandaloneItem(){return!this._parentMenu}_backArrowPressed(e){const t=this._parentMenu;(this._menuStack.hasInlineMenu()||this._menuStack.length()>1)&&(e.preventDefault(),this._menuStack.close(t,{focusNextOnEmpty:"horizontal"===this._menuStack.inlineMenuOrientation()?1:2,focusParentTrigger:!0}))}_forwardArrowPressed(e){this.hasMenu||"horizontal"!==this._menuStack.inlineMenuOrientation()||(e.preventDefault(),this._menuStack.closeAll({focusNextOnEmpty:0,focusParentTrigger:!0}))}_setupMouseEnter(){if(!this._isStandaloneItem()){const e=()=>this._ngZone.run((()=>this._menuStack.closeSubMenuOf(this._parentMenu)));this._ngZone.runOutsideAngular((()=>o.fromEvent(this._elementRef.nativeElement,"mouseenter").pipe(n.filter((()=>!this._menuStack.isEmpty()&&!this.hasMenu)),n.takeUntil(this.destroyed)).subscribe((()=>{this._menuAim?this._menuAim.toggle(e):e()}))))}}_isParentVertical(){return"vertical"===this._parentMenu?.orientation}_setType(){const e=this._elementRef.nativeElement;"BUTTON"!==e.nodeName||e.getAttribute("type")||e.setAttribute("type","button")}}S.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:S,deps:[],target:p.ɵɵFactoryTarget.Directive}),S.ɵdir=p.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:S,isStandalone:!0,selector:"[cdkMenuItem]",inputs:{disabled:["cdkMenuItemDisabled","disabled"],typeaheadLabel:["cdkMenuitemTypeaheadLabel","typeaheadLabel"]},outputs:{triggered:"cdkMenuItemTriggered"},host:{attributes:{role:"menuitem"},listeners:{blur:"_resetTabIndex()",focus:"_setTabIndex()",click:"trigger()",keydown:"_onKeydown($event)"},properties:{tabindex:"_tabindex","attr.aria-disabled":"disabled || null"},classAttribute:"cdk-menu-item"},exportAs:["cdkMenuItem"],ngImport:p}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:S,decorators:[{type:t.Directive,args:[{selector:"[cdkMenuItem]",exportAs:"cdkMenuItem",standalone:!0,host:{role:"menuitem",class:"cdk-menu-item","[tabindex]":"_tabindex","[attr.aria-disabled]":"disabled || null","(blur)":"_resetTabIndex()","(focus)":"_setTabIndex()","(click)":"trigger()","(keydown)":"_onKeydown($event)"}}]}],ctorParameters:function(){return[]},propDecorators:{disabled:[{type:t.Input,args:["cdkMenuItemDisabled"]}],typeaheadLabel:[{type:t.Input,args:["cdkMenuitemTypeaheadLabel"]}],triggered:[{type:t.Output,args:["cdkMenuItemTriggered"]}]}});class E{constructor(e){this._items=e,this.entered=this._getItemPointerEntries(),this.exited=this._getItemPointerExits(),this._destroyed=new o.Subject,this.entered.subscribe((e=>this.activeElement=e)),this.exited.subscribe((()=>{this.previousElement=this.activeElement,this.activeElement=void 0}))}destroy(){this._destroyed.next(),this._destroyed.complete()}_getItemPointerEntries(){return o.defer((()=>this._items.changes.pipe(n.startWith(this._items),n.mergeMap((e=>e.map((e=>o.fromEvent(e._elementRef.nativeElement,"mouseenter").pipe(n.mapTo(e),n.takeUntil(this._items.changes)))))),n.mergeAll())))}_getItemPointerExits(){return o.defer((()=>this._items.changes.pipe(n.startWith(this._items),n.mergeMap((e=>e.map((e=>o.fromEvent(e._elementRef.nativeElement,"mouseout").pipe(n.mapTo(e),n.takeUntil(this._items.changes)))))),n.mergeAll())))}}let A=0;class R extends g{constructor(){super(...arguments),this.nativeElement=t.inject(t.ElementRef).nativeElement,this.ngZone=t.inject(t.NgZone),this.menuStack=t.inject(y),this.menuAim=t.inject(I,{optional:!0,self:!0}),this.dir=t.inject(l.Directionality,{optional:!0}),this.id="cdk-menu-"+A++,this.orientation="vertical",this.isInline=!1,this.destroyed=new o.Subject,this._menuStackHasFocus=!1}ngAfterContentInit(){this.isInline||this.menuStack.push(this),this._setKeyManager(),this._subscribeToMenuStackHasFocus(),this._subscribeToMenuOpen(),this._subscribeToMenuStackClosed(),this._setUpPointerTracker()}ngOnDestroy(){this.keyManager?.destroy(),this.destroyed.next(),this.destroyed.complete(),this.pointerTracker?.destroy()}focusFirstItem(e="program"){this.keyManager.setFocusOrigin(e),this.keyManager.setFirstItemActive()}focusLastItem(e="program"){this.keyManager.setFocusOrigin(e),this.keyManager.setLastItemActive()}_getTabIndex(){const e=this._menuStackHasFocus?-1:0;return this.isInline?e:null}closeOpenMenu(e,t){const{focusParentTrigger:i}={...t},s=this.keyManager,n=this.triggerItem;e===n?.getMenuTrigger()?.getMenu()&&(n?.getMenuTrigger()?.close(),i&&(n?s.setActiveItem(n):s.setFirstItemActive()))}_setKeyManager(){this.keyManager=new c.FocusKeyManager(this.items).withWrap().withTypeAhead().withHomeAndEnd(),"horizontal"===this.orientation?this.keyManager.withHorizontalOrientation(this.dir?.value||"ltr"):this.keyManager.withVerticalOrientation()}_subscribeToMenuOpen(){const e=o.merge(this.items.changes,this.destroyed);this.items.changes.pipe(n.startWith(this.items),n.mergeMap((t=>t.filter((e=>e.hasMenu)).map((t=>t.getMenuTrigger().opened.pipe(n.mapTo(t),n.takeUntil(e)))))),n.mergeAll(),n.switchMap((e=>(this.triggerItem=e,e.getMenuTrigger().closed))),n.takeUntil(this.destroyed)).subscribe((()=>this.triggerItem=void 0))}_subscribeToMenuStackClosed(){this.menuStack.closed.pipe(n.takeUntil(this.destroyed)).subscribe((({item:e,focusParentTrigger:t})=>this.closeOpenMenu(e,{focusParentTrigger:t})))}_subscribeToMenuStackHasFocus(){this.isInline&&this.menuStack.hasFocus.pipe(n.takeUntil(this.destroyed)).subscribe((e=>{this._menuStackHasFocus=e}))}_setUpPointerTracker(){this.menuAim&&(this.ngZone.runOutsideAngular((()=>{this.pointerTracker=new E(this.items)})),this.menuAim.initialize(this,this.pointerTracker))}}R.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:R,deps:null,target:p.ɵɵFactoryTarget.Directive}),R.ɵdir=p.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:R,inputs:{id:"id"},host:{attributes:{role:"menu"},listeners:{focus:"focusFirstItem()",focusin:"menuStack.setHasFocus(true)",focusout:"menuStack.setHasFocus(false)"},properties:{tabindex:"_getTabIndex()",id:"id","attr.aria-orientation":"orientation","attr.data-cdk-menu-stack-id":"menuStack.id"}},queries:[{propertyName:"items",predicate:S,descendants:!0}],usesInheritance:!0,ngImport:p}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:R,decorators:[{type:t.Directive,args:[{host:{role:"menu",class:"","[tabindex]":"_getTabIndex()","[id]":"id","[attr.aria-orientation]":"orientation","[attr.data-cdk-menu-stack-id]":"menuStack.id","(focus)":"focusFirstItem()","(focusin)":"menuStack.setHasFocus(true)","(focusout)":"menuStack.setHasFocus(false)"}}]}],propDecorators:{id:[{type:t.Input}],items:[{type:t.ContentChildren,args:[S,{descendants:!0}]}]}});class F extends R{constructor(){super(),this._parentTrigger=t.inject(b,{optional:!0}),this.closed=new t.EventEmitter,this.orientation="vertical",this.isInline=!this._parentTrigger,this.destroyed.subscribe(this.closed),this._parentTrigger?.registerChildMenu(this)}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}ngOnDestroy(){super.ngOnDestroy(),this.closed.complete()}_handleKeyEvent(e){const t=this.keyManager;switch(e.keyCode){case s.LEFT_ARROW:case s.RIGHT_ARROW:s.hasModifierKey(e)||(e.preventDefault(),t.setFocusOrigin("keyboard"),t.onKeydown(e));break;case s.ESCAPE:s.hasModifierKey(e)||(e.preventDefault(),this.menuStack.close(this,{focusNextOnEmpty:2,focusParentTrigger:!0}));break;case s.TAB:s.hasModifierKey(e,"altKey","metaKey","ctrlKey")||this.menuStack.closeAll({focusParentTrigger:!0});break;default:t.onKeydown(e)}}_toggleMenuFocus(e){const t=this.keyManager;switch(e){case 0:t.setFocusOrigin("keyboard"),t.setNextItemActive();break;case 1:t.setFocusOrigin("keyboard"),t.setPreviousItemActive();break;case 2:t.activeItem&&(t.setFocusOrigin("keyboard"),t.setActiveItem(t.activeItem))}}_subscribeToMenuStackEmptied(){this.menuStack.emptied.pipe(n.takeUntil(this.destroyed)).subscribe((e=>this._toggleMenuFocus(e)))}}F.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:F,deps:[],target:p.ɵɵFactoryTarget.Directive}),F.ɵdir=p.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:F,isStandalone:!0,selector:"[cdkMenu]",outputs:{closed:"closed"},host:{attributes:{role:"menu"},listeners:{keydown:"_handleKeyEvent($event)"},properties:{"class.cdk-menu-inline":"isInline"},classAttribute:"cdk-menu"},providers:[{provide:g,useExisting:F},{provide:m,useExisting:F},_("vertical")],exportAs:["cdkMenu"],usesInheritance:!0,ngImport:p}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:F,decorators:[{type:t.Directive,args:[{selector:"[cdkMenu]",exportAs:"cdkMenu",standalone:!0,host:{role:"menu",class:"cdk-menu","[class.cdk-menu-inline]":"isInline","(keydown)":"_handleKeyEvent($event)"},providers:[{provide:g,useExisting:F},{provide:m,useExisting:F},_("vertical")]}]}],ctorParameters:function(){return[]},propDecorators:{closed:[{type:t.Output}]}});class P extends R{constructor(){super(...arguments),this.orientation="horizontal",this.isInline=!0}ngAfterContentInit(){super.ngAfterContentInit(),this._subscribeToMenuStackEmptied()}_handleKeyEvent(e){const t=this.keyManager;switch(e.keyCode){case s.UP_ARROW:case s.DOWN_ARROW:case s.LEFT_ARROW:case s.RIGHT_ARROW:if(!s.hasModifierKey(e)){if(e.keyCode===s.LEFT_ARROW||e.keyCode===s.RIGHT_ARROW){e.preventDefault();const i=t.activeItem?.isMenuOpen();t.activeItem?.getMenuTrigger()?.close(),t.setFocusOrigin("keyboard"),t.onKeydown(e),i&&t.activeItem?.getMenuTrigger()?.open()}}break;case s.ESCAPE:s.hasModifierKey(e)||(e.preventDefault(),t.activeItem?.getMenuTrigger()?.close());break;case s.TAB:s.hasModifierKey(e,"altKey","metaKey","ctrlKey")||t.activeItem?.getMenuTrigger()?.close();break;default:t.onKeydown(e)}}_toggleOpenMenu(e){const t=this.keyManager;switch(e){case 0:t.setFocusOrigin("keyboard"),t.setNextItemActive(),t.activeItem?.getMenuTrigger()?.open();break;case 1:t.setFocusOrigin("keyboard"),t.setPreviousItemActive(),t.activeItem?.getMenuTrigger()?.open();break;case 2:t.activeItem&&(t.setFocusOrigin("keyboard"),t.setActiveItem(t.activeItem))}}_subscribeToMenuStackEmptied(){this.menuStack?.emptied.pipe(n.takeUntil(this.destroyed)).subscribe((e=>this._toggleOpenMenu(e)))}}P.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:P,deps:null,target:p.ɵɵFactoryTarget.Directive}),P.ɵdir=p.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:P,isStandalone:!0,selector:"[cdkMenuBar]",host:{attributes:{role:"menubar"},listeners:{keydown:"_handleKeyEvent($event)"},classAttribute:"cdk-menu-bar"},providers:[{provide:g,useExisting:P},{provide:m,useExisting:P},{provide:y,useFactory:()=>M.inline("horizontal")}],exportAs:["cdkMenuBar"],usesInheritance:!0,ngImport:p}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:P,decorators:[{type:t.Directive,args:[{selector:"[cdkMenuBar]",exportAs:"cdkMenuBar",standalone:!0,host:{role:"menubar",class:"cdk-menu-bar","(keydown)":"_handleKeyEvent($event)"},providers:[{provide:g,useExisting:P},{provide:m,useExisting:P},{provide:y,useFactory:()=>M.inline("horizontal")}]}]}]});class w extends S{constructor(){super(...arguments),this._checked=!1,this.closeOnSpacebarTrigger=!1}get checked(){return this._checked}set checked(e){this._checked=u.coerceBooleanProperty(e)}}w.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:w,deps:null,target:p.ɵɵFactoryTarget.Directive}),w.ɵdir=p.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:w,inputs:{checked:["cdkMenuItemChecked","checked"]},host:{properties:{"attr.aria-checked":"!!checked","attr.aria-disabled":"disabled || null"}},usesInheritance:!0,ngImport:p}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:w,decorators:[{type:t.Directive,args:[{host:{"[attr.aria-checked]":"!!checked","[attr.aria-disabled]":"disabled || null"}}]}],propDecorators:{checked:[{type:t.Input,args:["cdkMenuItemChecked"]}]}});let j=0;class V extends w{constructor(){super(),this._selectionDispatcher=t.inject(r.UniqueSelectionDispatcher),this._id=""+j++,this._registerDispatcherListener()}ngOnDestroy(){super.ngOnDestroy(),this._removeDispatcherListener()}trigger(e){super.trigger(e),this.disabled||this._selectionDispatcher.notify(this._id,"")}_registerDispatcherListener(){this._removeDispatcherListener=this._selectionDispatcher.listen((e=>{this.checked=this._id===e}))}}V.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:V,deps:[],target:p.ɵɵFactoryTarget.Directive}),V.ɵdir=p.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:V,isStandalone:!0,selector:"[cdkMenuItemRadio]",host:{attributes:{role:"menuitemradio"},properties:{"class.cdk-menu-item-radio":"true"}},providers:[{provide:w,useExisting:V},{provide:S,useExisting:w}],exportAs:["cdkMenuItemRadio"],usesInheritance:!0,ngImport:p}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:V,decorators:[{type:t.Directive,args:[{selector:"[cdkMenuItemRadio]",exportAs:"cdkMenuItemRadio",standalone:!0,host:{role:"menuitemradio","[class.cdk-menu-item-radio]":"true"},providers:[{provide:w,useExisting:V},{provide:S,useExisting:w}]}]}],ctorParameters:function(){return[]}});class N extends w{trigger(e){super.trigger(e),this.disabled||(this.checked=!this.checked)}}N.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:N,deps:null,target:p.ɵɵFactoryTarget.Directive}),N.ɵdir=p.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:N,isStandalone:!0,selector:"[cdkMenuItemCheckbox]",host:{attributes:{role:"menuitemcheckbox"},properties:{"class.cdk-menu-item-checkbox":"true"}},providers:[{provide:w,useExisting:N},{provide:S,useExisting:w}],exportAs:["cdkMenuItemCheckbox"],usesInheritance:!0,ngImport:p}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:N,decorators:[{type:t.Directive,args:[{selector:"[cdkMenuItemCheckbox]",exportAs:"cdkMenuItemCheckbox",standalone:!0,host:{role:"menuitemcheckbox","[class.cdk-menu-item-checkbox]":"true"},providers:[{provide:w,useExisting:N},{provide:S,useExisting:w}]}]}]});const K=i.STANDARD_DROPDOWN_BELOW_POSITIONS.map((e=>{const t="start"===e.overlayX?2:-2,i="top"===e.overlayY?2:-2;return{...e,offsetX:t,offsetY:i}}));class U{update(e){U._openContextMenuTrigger!==e&&(U._openContextMenuTrigger?.close(),U._openContextMenuTrigger=e)}}U.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:U,deps:[],target:p.ɵɵFactoryTarget.Injectable}),U.ɵprov=p.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:U,providedIn:"root"}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:U,decorators:[{type:t.Injectable,args:[{providedIn:"root"}]}]});class W extends f{constructor(){super(),this._overlay=t.inject(i.Overlay),this._directionality=t.inject(l.Directionality,{optional:!0}),this._contextMenuTracker=t.inject(U),this._disabled=!1,this._setMenuStackCloseListener()}get disabled(){return this._disabled}set disabled(e){this._disabled=u.coerceBooleanProperty(e)}open(e){this._open(e,!1)}close(){this.menuStack.closeAll()}_openOnContextMenu(e){this.disabled||(e.preventDefault(),e.stopPropagation(),this._contextMenuTracker.update(this),this._open({x:e.clientX,y:e.clientY},!0),2===e.button?this.childMenu?.focusFirstItem("mouse"):0===e.button?this.childMenu?.focusFirstItem("keyboard"):this.childMenu?.focusFirstItem("program"))}_getOverlayConfig(e){return new i.OverlayConfig({positionStrategy:this._getOverlayPositionStrategy(e),scrollStrategy:this._overlay.scrollStrategies.reposition(),direction:this._directionality||void 0})}_getOverlayPositionStrategy(e){return this._overlay.position().flexibleConnectedTo(e).withLockedPosition().withGrowAfterOpen().withPositions(this.menuPosition??K)}_setMenuStackCloseListener(){this.menuStack.closed.pipe(n.takeUntil(this.destroyed)).subscribe((({item:e})=>{e===this.childMenu&&this.isOpen()&&(this.closed.next(),this.overlayRef.detach())}))}_subscribeToOutsideClicks(e){if(this.overlayRef){let t=this.overlayRef.outsidePointerEvents();if(e){const[e,i]=o.partition(t,(({type:e})=>"auxclick"===e));t=o.merge(i,e.pipe(n.skip(1)))}t.pipe(n.takeUntil(this.stopOutsideClicksListener)).subscribe((e=>{this.isElementInsideMenuStack(d._getEventTarget(e))||this.menuStack.closeAll()}))}}_open(e,t){this.disabled||(this.isOpen()?(this.menuStack.closeSubMenuOf(this.childMenu),this.overlayRef.getConfig().positionStrategy.setOrigin(e),this.overlayRef.updatePosition()):(this.opened.next(),this.overlayRef?(this.overlayRef.getConfig().positionStrategy.setOrigin(e),this.overlayRef.updatePosition()):this.overlayRef=this._overlay.create(this._getOverlayConfig(e)),this.overlayRef.attach(this.getMenuContentPortal()),this._subscribeToOutsideClicks(t)))}}W.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:W,deps:[],target:p.ɵɵFactoryTarget.Directive}),W.ɵdir=p.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:W,isStandalone:!0,selector:"[cdkContextMenuTriggerFor]",inputs:{menuTemplateRef:["cdkContextMenuTriggerFor","menuTemplateRef"],menuPosition:["cdkContextMenuPosition","menuPosition"],menuData:["cdkContextMenuTriggerData","menuData"],disabled:["cdkContextMenuDisabled","disabled"]},outputs:{opened:"cdkContextMenuOpened",closed:"cdkContextMenuClosed"},host:{listeners:{contextmenu:"_openOnContextMenu($event)"},properties:{"attr.data-cdk-menu-stack-id":"null"}},providers:[{provide:b,useExisting:W},{provide:y,useClass:M}],exportAs:["cdkContextMenuTriggerFor"],usesInheritance:!0,ngImport:p}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:W,decorators:[{type:t.Directive,args:[{selector:"[cdkContextMenuTriggerFor]",exportAs:"cdkContextMenuTriggerFor",standalone:!0,host:{"[attr.data-cdk-menu-stack-id]":"null","(contextmenu)":"_openOnContextMenu($event)"},inputs:["menuTemplateRef: cdkContextMenuTriggerFor","menuPosition: cdkContextMenuPosition","menuData: cdkContextMenuTriggerData"],outputs:["opened: cdkContextMenuOpened","closed: cdkContextMenuClosed"],providers:[{provide:b,useExisting:W},{provide:y,useClass:M}]}]}],ctorParameters:function(){return[]},propDecorators:{disabled:[{type:t.Input,args:["cdkContextMenuDisabled"]}]}});const L=[P,F,S,V,N,C,g,W,O];class H{}H.ɵfac=p.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:H,deps:[],target:p.ɵɵFactoryTarget.NgModule}),H.ɵmod=p.ɵɵngDeclareNgModule({minVersion:"14.0.0",version:"15.0.0",ngImport:p,type:H,imports:[i.OverlayModule,P,F,S,V,N,C,g,W,O],exports:[P,F,S,V,N,C,g,W,O]}),H.ɵinj=p.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:H,imports:[i.OverlayModule]}),p.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:p,type:H,decorators:[{type:t.NgModule,args:[{imports:[i.OverlayModule,...L],exports:L}]}]}),e.CDK_MENU=m,e.CdkContextMenuTrigger=W,e.CdkMenu=F,e.CdkMenuBar=P,e.CdkMenuBase=R,e.CdkMenuGroup=g,e.CdkMenuItem=S,e.CdkMenuItemCheckbox=N,e.CdkMenuItemRadio=V,e.CdkMenuItemSelectable=w,e.CdkMenuModule=H,e.CdkMenuTrigger=C,e.CdkMenuTriggerBase=f,e.CdkTargetMenuAim=O,e.ContextMenuTracker=U,e.MENU_AIM=I,e.MENU_STACK=y,e.MENU_TRIGGER=b,e.MenuStack=M,e.PARENT_OR_NEW_INLINE_MENU_STACK_PROVIDER=_,e.PARENT_OR_NEW_MENU_STACK_PROVIDER=k,e.PointerFocusTracker=E,e.TargetMenuAim=x}));
