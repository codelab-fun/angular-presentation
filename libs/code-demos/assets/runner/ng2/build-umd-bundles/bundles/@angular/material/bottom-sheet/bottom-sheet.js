!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/cdk/dialog"),require("@angular/cdk/portal"),require("@angular/core"),require("@angular/material/core"),require("@angular/cdk/a11y"),require("@angular/cdk/layout"),require("@angular/cdk/overlay"),require("@angular/common"),require("@angular/animations"),require("@angular/cdk/keycodes"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define(["exports","@angular/cdk/dialog","@angular/cdk/portal","@angular/core","@angular/material/core","@angular/cdk/a11y","@angular/cdk/layout","@angular/cdk/overlay","@angular/common","@angular/animations","@angular/cdk/keycodes","rxjs","rxjs/operators"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).ngMaterialBottomSheet={},t.ngCdkDialog,t.ngCdkPortal,t.ngCore,t.ngMaterialCore,t.ngCdkA11y,t.ngCdkLayout,t.ngCdkOverlay,t.ngCommon,t.ngAnimations,t.ngCdkKeycodes,t.rxjs,t.rxjsOperators)}(this,(function(t,e,o,a,n,i,r,s,l,c,m,d,h){"use strict";function p(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(o){if("default"!==o){var a=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:function(){return t[o]}})}})),e.default=t,Object.freeze(e)}var u=p(e),g=p(o),b=p(a),f=p(i),y=p(r),_=p(s);const k={bottomSheetState:c.trigger("state",[c.state("void, hidden",c.style({transform:"translateY(100%)"})),c.state("visible",c.style({transform:"translateY(0%)"})),c.transition("visible => void, visible => hidden",c.group([c.animate(`${n.AnimationDurations.COMPLEX} ${n.AnimationCurves.ACCELERATION_CURVE}`),c.query("@*",c.animateChild(),{optional:!0})])),c.transition("void => visible",c.group([c.animate(`${n.AnimationDurations.EXITING} ${n.AnimationCurves.DECELERATION_CURVE}`),c.query("@*",c.animateChild(),{optional:!0})]))])};class v extends e.CdkDialogContainer{constructor(t,e,o,n,i,s,l,c,m,d){super(t,e,o,n,i,s,l,d),this._changeDetectorRef=m,this._animationState="void",this._animationStateChanged=new a.EventEmitter,this._breakpointSubscription=c.observe([r.Breakpoints.Medium,r.Breakpoints.Large,r.Breakpoints.XLarge]).subscribe((()=>{this._toggleClass("mat-bottom-sheet-container-medium",c.isMatched(r.Breakpoints.Medium)),this._toggleClass("mat-bottom-sheet-container-large",c.isMatched(r.Breakpoints.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",c.isMatched(r.Breakpoints.XLarge))}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,e){this._elementRef.nativeElement.classList.toggle(t,e)}}v.ɵfac=b.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:b,type:v,deps:[{token:b.ElementRef},{token:f.FocusTrapFactory},{token:l.DOCUMENT,optional:!0},{token:u.DialogConfig},{token:f.InteractivityChecker},{token:b.NgZone},{token:_.OverlayRef},{token:y.BreakpointObserver},{token:b.ChangeDetectorRef},{token:f.FocusMonitor}],target:b.ɵɵFactoryTarget.Component}),v.ɵcmp=b.ɵɵngDeclareComponent({minVersion:"14.0.0",version:"15.0.0",type:v,selector:"mat-bottom-sheet-container",host:{attributes:{tabindex:"-1"},listeners:{"@state.start":"_onAnimationStart($event)","@state.done":"_onAnimationDone($event)"},properties:{"attr.role":"_config.role","attr.aria-modal":"_config.ariaModal","attr.aria-label":"_config.ariaLabel","@state":"_animationState"},classAttribute:"mat-bottom-sheet-container"},usesInheritance:!0,ngImport:b,template:"<ng-template cdkPortalOutlet></ng-template>\r\n",styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],dependencies:[{kind:"directive",type:g.CdkPortalOutlet,selector:"[cdkPortalOutlet]",inputs:["cdkPortalOutlet"],outputs:["attached"],exportAs:["cdkPortalOutlet"]}],animations:[k.bottomSheetState],changeDetection:b.ChangeDetectionStrategy.Default,encapsulation:b.ViewEncapsulation.None}),b.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:b,type:v,decorators:[{type:a.Component,args:[{selector:"mat-bottom-sheet-container",changeDetection:a.ChangeDetectionStrategy.Default,encapsulation:a.ViewEncapsulation.None,animations:[k.bottomSheetState],host:{class:"mat-bottom-sheet-container",tabindex:"-1","[attr.role]":"_config.role","[attr.aria-modal]":"_config.ariaModal","[attr.aria-label]":"_config.ariaLabel","[@state]":"_animationState","(@state.start)":"_onAnimationStart($event)","(@state.done)":"_onAnimationDone($event)"},template:"<ng-template cdkPortalOutlet></ng-template>\r\n",styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"]}]}],ctorParameters:function(){return[{type:b.ElementRef},{type:f.FocusTrapFactory},{type:void 0,decorators:[{type:a.Optional},{type:a.Inject,args:[l.DOCUMENT]}]},{type:u.DialogConfig},{type:f.InteractivityChecker},{type:b.NgZone},{type:_.OverlayRef},{type:y.BreakpointObserver},{type:b.ChangeDetectorRef},{type:f.FocusMonitor}]}});class C{}C.ɵfac=b.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:b,type:C,deps:[],target:b.ɵɵFactoryTarget.NgModule}),C.ɵmod=b.ɵɵngDeclareNgModule({minVersion:"14.0.0",version:"15.0.0",ngImport:b,type:C,declarations:[v],imports:[e.DialogModule,n.MatCommonModule,o.PortalModule],exports:[v,n.MatCommonModule]}),C.ɵinj=b.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"15.0.0",ngImport:b,type:C,imports:[e.DialogModule,n.MatCommonModule,o.PortalModule,n.MatCommonModule]}),b.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:b,type:C,decorators:[{type:a.NgModule,args:[{imports:[e.DialogModule,n.MatCommonModule,o.PortalModule],exports:[v,n.MatCommonModule],declarations:[v]}]}]});const S=new a.InjectionToken("MatBottomSheetData");class x{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class M{constructor(t,e,o){this._ref=t,this._afterOpened=new d.Subject,this.containerInstance=o,this.disableClose=e.disableClose,o._animationStateChanged.pipe(h.filter((t=>"done"===t.phaseName&&"visible"===t.toState)),h.take(1)).subscribe((()=>{this._afterOpened.next(),this._afterOpened.complete()})),o._animationStateChanged.pipe(h.filter((t=>"done"===t.phaseName&&"hidden"===t.toState)),h.take(1)).subscribe((()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)})),t.overlayRef.detachments().subscribe((()=>{this._ref.close(this._result)})),d.merge(this.backdropClick(),this.keydownEvents().pipe(h.filter((t=>t.keyCode===m.ESCAPE)))).subscribe((t=>{this.disableClose||"keydown"===t.type&&m.hasModifierKey(t)||(t.preventDefault(),this.dismiss())}))}get instance(){return this._ref.componentInstance}dismiss(t){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(h.filter((t=>"start"===t.phaseName)),h.take(1)).subscribe((t=>{this._closeFallbackTimeout=setTimeout((()=>{this._ref.close(this._result)}),t.totalTime+100),this._ref.overlayRef.detachBackdrop()})),this._result=t,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const D=new a.InjectionToken("mat-bottom-sheet-default-options");class O{constructor(t,o,a,n){this._overlay=t,this._parentBottomSheet=a,this._defaultOptions=n,this._bottomSheetRefAtThisLevel=null,this._dialog=o.get(e.Dialog)}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,e){const o={...this._defaultOptions||new x,...e};let a;return this._dialog.open(t,{...o,disableClose:!0,maxWidth:"100%",container:v,scrollStrategy:o.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:a}),providers:(t,e,n)=>(a=new M(t,o,n),[{provide:M,useValue:a},{provide:S,useValue:o.data}])}),a.afterDismissed().subscribe((()=>{this._openedBottomSheetRef===a&&(this._openedBottomSheetRef=null)})),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe((()=>a.containerInstance?.enter())),this._openedBottomSheetRef.dismiss()):a.containerInstance.enter(),this._openedBottomSheetRef=a,a}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}O.ɵfac=b.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:b,type:O,deps:[{token:_.Overlay},{token:b.Injector},{token:O,optional:!0,skipSelf:!0},{token:D,optional:!0}],target:b.ɵɵFactoryTarget.Injectable}),O.ɵprov=b.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"15.0.0",ngImport:b,type:O,providedIn:C}),b.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:b,type:O,decorators:[{type:a.Injectable,args:[{providedIn:C}]}],ctorParameters:function(){return[{type:_.Overlay},{type:b.Injector},{type:O,decorators:[{type:a.Optional},{type:a.SkipSelf}]},{type:x,decorators:[{type:a.Optional},{type:a.Inject,args:[D]}]}]}}),t.MAT_BOTTOM_SHEET_DATA=S,t.MAT_BOTTOM_SHEET_DEFAULT_OPTIONS=D,t.MatBottomSheet=O,t.MatBottomSheetConfig=x,t.MatBottomSheetContainer=v,t.MatBottomSheetModule=C,t.MatBottomSheetRef=M,t.matBottomSheetAnimations=k}));
