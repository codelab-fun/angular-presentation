!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/coercion"),require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define(["exports","@angular/cdk/coercion","@angular/core","rxjs","rxjs/operators"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ngCdkObservers={},e.ngCdkCoercion,e.ngCore,e.rxjs,e.rxjsOperators)}(this,(function(e,t,r,n,s){"use strict";function o(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var i=o(r);class c{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}c.ɵfac=i.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:i,type:c,deps:[],target:i.ɵɵFactoryTarget.Injectable}),c.ɵprov=i.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"15.0.0",ngImport:i,type:c,providedIn:"root"}),i.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:i,type:c,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}]});class a{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach(((e,t)=>this._cleanupObserver(t)))}observe(e){const r=t.coerceElement(e);return new n.Observable((e=>{const t=this._observeElement(r).subscribe(e);return()=>{t.unsubscribe(),this._unobserveElement(r)}}))}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new n.Subject,r=this._mutationObserverFactory.create((e=>t.next(e)));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:r}=this._observedElements.get(e);t&&t.disconnect(),r.complete(),this._observedElements.delete(e)}}}a.ɵfac=i.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:i,type:a,deps:[{token:c}],target:i.ɵɵFactoryTarget.Injectable}),a.ɵprov=i.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"15.0.0",ngImport:i,type:a,providedIn:"root"}),i.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:i,type:a,decorators:[{type:r.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[{type:c}]}});class b{constructor(e,t,n){this._contentObserver=e,this._elementRef=t,this._ngZone=n,this.event=new r.EventEmitter,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=t.coerceBooleanProperty(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=t.coerceNumberProperty(e),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((()=>{this._currentSubscription=(this.debounce?e.pipe(s.debounceTime(this.debounce)):e).subscribe(this.event)}))}_unsubscribe(){this._currentSubscription?.unsubscribe()}}b.ɵfac=i.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:i,type:b,deps:[{token:a},{token:i.ElementRef},{token:i.NgZone}],target:i.ɵɵFactoryTarget.Directive}),b.ɵdir=i.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:b,selector:"[cdkObserveContent]",inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],ngImport:i}),i.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:i,type:b,decorators:[{type:r.Directive,args:[{selector:"[cdkObserveContent]",exportAs:"cdkObserveContent"}]}],ctorParameters:function(){return[{type:a},{type:i.ElementRef},{type:i.NgZone}]},propDecorators:{event:[{type:r.Output,args:["cdkObserveContent"]}],disabled:[{type:r.Input,args:["cdkObserveContentDisabled"]}],debounce:[{type:r.Input}]}});class u{}u.ɵfac=i.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:i,type:u,deps:[],target:i.ɵɵFactoryTarget.NgModule}),u.ɵmod=i.ɵɵngDeclareNgModule({minVersion:"14.0.0",version:"15.0.0",ngImport:i,type:u,declarations:[b],exports:[b]}),u.ɵinj=i.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"15.0.0",ngImport:i,type:u,providers:[c]}),i.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:i,type:u,decorators:[{type:r.NgModule,args:[{exports:[b],declarations:[b],providers:[c]}]}]}),e.CdkObserveContent=b,e.ContentObserver=a,e.MutationObserverFactory=c,e.ObserversModule=u}));
