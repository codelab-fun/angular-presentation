!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/tree"),require("@angular/core"),require("@angular/material/core"),require("@angular/cdk/coercion"),require("@angular/cdk/collections"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define(["exports","@angular/cdk/tree","@angular/core","@angular/material/core","@angular/cdk/coercion","@angular/cdk/collections","rxjs","rxjs/operators"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ngMaterialTree={},e.ngCdkTree,e.ngCore,e.ngMaterialCore,e.ngCdkCoercion,e.ngCdkCollections,e.rxjs,e.rxjsOperators)}(this,(function(e,t,r,n,a,o,s,i){"use strict";function d(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var l=d(t),c=d(r);const p=n.mixinTabIndex(n.mixinDisabled(t.CdkTreeNode));class g extends p{constructor(e,t,r){super(e,t),this.tabIndex=Number(r)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}g.ɵfac=c.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:g,deps:[{token:c.ElementRef},{token:l.CdkTree},{token:"tabindex",attribute:!0}],target:c.ɵɵFactoryTarget.Directive}),g.ɵdir=c.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:g,selector:"mat-tree-node",inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},host:{classAttribute:"mat-tree-node"},providers:[{provide:t.CdkTreeNode,useExisting:g}],exportAs:["matTreeNode"],usesInheritance:!0,ngImport:c}),c.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:g,decorators:[{type:r.Directive,args:[{selector:"mat-tree-node",exportAs:"matTreeNode",inputs:["role","disabled","tabIndex"],providers:[{provide:t.CdkTreeNode,useExisting:g}],host:{class:"mat-tree-node"}}]}],ctorParameters:function(){return[{type:c.ElementRef},{type:l.CdkTree},{type:void 0,decorators:[{type:r.Attribute,args:["tabindex"]}]}]}});class u extends t.CdkTreeNodeDef{}u.ɵfac=c.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:u,deps:null,target:c.ɵɵFactoryTarget.Directive}),u.ɵdir=c.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:u,selector:"[matTreeNodeDef]",inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},providers:[{provide:t.CdkTreeNodeDef,useExisting:u}],usesInheritance:!0,ngImport:c}),c.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:u,decorators:[{type:r.Directive,args:[{selector:"[matTreeNodeDef]",inputs:["when: matTreeNodeDefWhen"],providers:[{provide:t.CdkTreeNodeDef,useExisting:u}]}]}],propDecorators:{data:[{type:r.Input,args:["matTreeNode"]}]}});class m extends t.CdkNestedTreeNode{constructor(e,t,r,n){super(e,t,r),this._disabled=!1,this.tabIndex=Number(n)||0}get disabled(){return this._disabled}set disabled(e){this._disabled=a.coerceBooleanProperty(e)}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?e:0}ngOnInit(){super.ngOnInit()}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}}m.ɵfac=c.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:m,deps:[{token:c.ElementRef},{token:l.CdkTree},{token:c.IterableDiffers},{token:"tabindex",attribute:!0}],target:c.ɵɵFactoryTarget.Directive}),m.ɵdir=c.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:m,selector:"mat-nested-tree-node",inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex",node:["matNestedTreeNode","node"]},host:{classAttribute:"mat-nested-tree-node"},providers:[{provide:t.CdkNestedTreeNode,useExisting:m},{provide:t.CdkTreeNode,useExisting:m},{provide:t.CDK_TREE_NODE_OUTLET_NODE,useExisting:m}],exportAs:["matNestedTreeNode"],usesInheritance:!0,ngImport:c}),c.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:m,decorators:[{type:r.Directive,args:[{selector:"mat-nested-tree-node",exportAs:"matNestedTreeNode",inputs:["role","disabled","tabIndex"],providers:[{provide:t.CdkNestedTreeNode,useExisting:m},{provide:t.CdkTreeNode,useExisting:m},{provide:t.CDK_TREE_NODE_OUTLET_NODE,useExisting:m}],host:{class:"mat-nested-tree-node"}}]}],ctorParameters:function(){return[{type:c.ElementRef},{type:l.CdkTree},{type:c.IterableDiffers},{type:void 0,decorators:[{type:r.Attribute,args:["tabindex"]}]}]},propDecorators:{node:[{type:r.Input,args:["matNestedTreeNode"]}],disabled:[{type:r.Input}],tabIndex:[{type:r.Input}]}});class v extends t.CdkTreeNodePadding{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}}v.ɵfac=c.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:v,deps:null,target:c.ɵɵFactoryTarget.Directive}),v.ɵdir=c.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:v,selector:"[matTreeNodePadding]",inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},providers:[{provide:t.CdkTreeNodePadding,useExisting:v}],usesInheritance:!0,ngImport:c}),c.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:v,decorators:[{type:r.Directive,args:[{selector:"[matTreeNodePadding]",providers:[{provide:t.CdkTreeNodePadding,useExisting:v}]}]}],propDecorators:{level:[{type:r.Input,args:["matTreeNodePadding"]}],indent:[{type:r.Input,args:["matTreeNodePaddingIndent"]}]}});class T{constructor(e,t){this.viewContainer=e,this._node=t}}T.ɵfac=c.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:T,deps:[{token:c.ViewContainerRef},{token:t.CDK_TREE_NODE_OUTLET_NODE,optional:!0}],target:c.ɵɵFactoryTarget.Directive}),T.ɵdir=c.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:T,selector:"[matTreeNodeOutlet]",providers:[{provide:t.CdkTreeNodeOutlet,useExisting:T}],ngImport:c}),c.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:T,decorators:[{type:r.Directive,args:[{selector:"[matTreeNodeOutlet]",providers:[{provide:t.CdkTreeNodeOutlet,useExisting:T}]}]}],ctorParameters:function(){return[{type:c.ViewContainerRef},{type:void 0,decorators:[{type:r.Inject,args:[t.CDK_TREE_NODE_OUTLET_NODE]},{type:r.Optional}]}]}});class h extends t.CdkTree{}h.ɵfac=c.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:h,deps:null,target:c.ɵɵFactoryTarget.Component}),h.ɵcmp=c.ɵɵngDeclareComponent({minVersion:"14.0.0",version:"15.0.0",type:h,selector:"mat-tree",host:{attributes:{role:"tree"},classAttribute:"mat-tree"},providers:[{provide:t.CdkTree,useExisting:h}],viewQueries:[{propertyName:"_nodeOutlet",first:!0,predicate:T,descendants:!0,static:!0}],exportAs:["matTree"],usesInheritance:!0,ngImport:c,template:"<ng-container matTreeNodeOutlet></ng-container>",isInline:!0,styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}"],dependencies:[{kind:"directive",type:T,selector:"[matTreeNodeOutlet]"}],changeDetection:c.ChangeDetectionStrategy.Default,encapsulation:c.ViewEncapsulation.None}),c.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:h,decorators:[{type:r.Component,args:[{selector:"mat-tree",exportAs:"matTree",template:"<ng-container matTreeNodeOutlet></ng-container>",host:{class:"mat-tree",role:"tree"},encapsulation:r.ViewEncapsulation.None,changeDetection:r.ChangeDetectionStrategy.Default,providers:[{provide:t.CdkTree,useExisting:h}],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}"]}]}],propDecorators:{_nodeOutlet:[{type:r.ViewChild,args:[T,{static:!0}]}]}});class y extends t.CdkTreeNodeToggle{}y.ɵfac=c.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:y,deps:null,target:c.ɵɵFactoryTarget.Directive}),y.ɵdir=c.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"15.0.0",type:y,selector:"[matTreeNodeToggle]",inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},providers:[{provide:t.CdkTreeNodeToggle,useExisting:y}],usesInheritance:!0,ngImport:c}),c.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:y,decorators:[{type:r.Directive,args:[{selector:"[matTreeNodeToggle]",providers:[{provide:t.CdkTreeNodeToggle,useExisting:y}],inputs:["recursive: matTreeNodeToggleRecursive"]}]}]});const D=[m,u,v,y,h,g,T];class N{}N.ɵfac=c.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:N,deps:[],target:c.ɵɵFactoryTarget.NgModule}),N.ɵmod=c.ɵɵngDeclareNgModule({minVersion:"14.0.0",version:"15.0.0",ngImport:c,type:N,declarations:[m,u,v,y,h,g,T],imports:[t.CdkTreeModule,n.MatCommonModule],exports:[n.MatCommonModule,m,u,v,y,h,g,T]}),N.ɵinj=c.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:N,imports:[t.CdkTreeModule,n.MatCommonModule,n.MatCommonModule]}),c.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:c,type:N,decorators:[{type:r.NgModule,args:[{imports:[t.CdkTreeModule,n.MatCommonModule],exports:[n.MatCommonModule,D],declarations:D}]}]});class x extends o.DataSource{constructor(e,t,r){super(),this._treeControl=e,this._treeFlattener=t,this._flattenedData=new s.BehaviorSubject([]),this._expandedData=new s.BehaviorSubject([]),this._data=new s.BehaviorSubject([]),r&&(this.data=r)}get data(){return this._data.value}set data(e){this._data.next(e),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}connect(e){return s.merge(e.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe(i.map((()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value))))}disconnect(){}}class f extends o.DataSource{constructor(){super(...arguments),this._data=new s.BehaviorSubject([])}get data(){return this._data.value}set data(e){this._data.next(e)}connect(e){return s.merge(e.viewChange,this._data).pipe(i.map((()=>this.data)))}disconnect(){}}e.MatNestedTreeNode=m,e.MatTree=h,e.MatTreeFlatDataSource=x,e.MatTreeFlattener=class{constructor(e,t,r,n){this.transformFunction=e,this.getLevel=t,this.isExpandable=r,this.getChildren=n}_flattenNode(e,t,r,n){const a=this.transformFunction(e,t);if(r.push(a),this.isExpandable(a)){const a=this.getChildren(e);a&&(Array.isArray(a)?this._flattenChildren(a,t,r,n):a.pipe(i.take(1)).subscribe((e=>{this._flattenChildren(e,t,r,n)})))}return r}_flattenChildren(e,t,r,n){e.forEach(((a,o)=>{let s=n.slice();s.push(o!=e.length-1),this._flattenNode(a,t+1,r,s)}))}flattenNodes(e){let t=[];return e.forEach((e=>this._flattenNode(e,0,t,[]))),t}expandFlattenedNodes(e,t){let r=[],n=[];return n[0]=!0,e.forEach((e=>{let a=!0;for(let t=0;t<=this.getLevel(e);t++)a=a&&n[t];a&&r.push(e),this.isExpandable(e)&&(n[this.getLevel(e)+1]=t.isExpanded(e))})),r}},e.MatTreeModule=N,e.MatTreeNestedDataSource=f,e.MatTreeNode=g,e.MatTreeNodeDef=u,e.MatTreeNodeOutlet=T,e.MatTreeNodePadding=v,e.MatTreeNodeToggle=y}));
