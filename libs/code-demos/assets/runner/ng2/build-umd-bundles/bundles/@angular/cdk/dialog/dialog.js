!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/a11y"),require("@angular/cdk/overlay"),require("@angular/cdk/platform"),require("@angular/cdk/portal"),require("@angular/common"),require("@angular/core"),require("@angular/cdk/keycodes"),require("rxjs"),require("@angular/cdk/bidi"),require("rxjs/operators")):"function"==typeof define&&define.amd?define(["exports","@angular/cdk/a11y","@angular/cdk/overlay","@angular/cdk/platform","@angular/cdk/portal","@angular/common","@angular/core","@angular/cdk/keycodes","rxjs","@angular/cdk/bidi","rxjs/operators"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ngCdkDialog={},e.ngCdkA11y,e.ngCdkOverlay,e.ngCdkPlatform,e.ngCdkPortal,e.ngCommon,e.ngCore,e.ngCdkKeycodes,e.rxjs,e.ngCdkBidi,e.rxjsOperators)}(this,(function(e,t,o,i,a,n,r,s,l,c,d){"use strict";function h(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var i=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var u=h(t),p=h(o),g=h(a),f=h(r);class y{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}function _(){throw Error("Attempting to attach dialog content after content is already attached")}class m extends a.BasePortalOutlet{constructor(e,t,o,i,a,n,r,s){super(),this._elementRef=e,this._focusTrapFactory=t,this._config=i,this._interactivityChecker=a,this._ngZone=n,this._overlayRef=r,this._focusMonitor=s,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=e=>{this._portalOutlet.hasAttached()&&("undefined"==typeof ngDevMode||ngDevMode)&&_();const t=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),t},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=o}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached()&&("undefined"==typeof ngDevMode||ngDevMode)&&_();const t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached()&&("undefined"==typeof ngDevMode||ngDevMode)&&_();const t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular((()=>{const t=()=>{e.removeEventListener("blur",t),e.removeEventListener("mousedown",t),e.removeAttribute("tabindex")};e.addEventListener("blur",t),e.addEventListener("mousedown",t)}))),e.focus(t)}_focusByCssSelector(e,t){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,t)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then((e=>{e||this._focusDialogContainer()}));break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let t=null;if("string"==typeof e?t=this._document.querySelector(e):"boolean"==typeof e?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=i._getFocusedElementPierceShadowDom(),o=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==o&&!o.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,t=i._getFocusedElementPierceShadowDom();return e===t||e.contains(t)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=i._getFocusedElementPierceShadowDom())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe((()=>{this._config.disableClose&&this._recaptureFocus()}))}}m.ɵfac=f.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:f,type:m,deps:[{token:f.ElementRef},{token:u.FocusTrapFactory},{token:n.DOCUMENT,optional:!0},{token:y},{token:u.InteractivityChecker},{token:f.NgZone},{token:p.OverlayRef},{token:u.FocusMonitor}],target:f.ɵɵFactoryTarget.Component}),m.ɵcmp=f.ɵɵngDeclareComponent({minVersion:"14.0.0",version:"15.0.0",type:m,selector:"cdk-dialog-container",host:{attributes:{tabindex:"-1"},properties:{"attr.id":"_config.id || null","attr.role":"_config.role","attr.aria-modal":"_config.ariaModal","attr.aria-labelledby":"_config.ariaLabel ? null : _ariaLabelledBy","attr.aria-label":"_config.ariaLabel","attr.aria-describedby":"_config.ariaDescribedBy || null"},classAttribute:"cdk-dialog-container"},viewQueries:[{propertyName:"_portalOutlet",first:!0,predicate:a.CdkPortalOutlet,descendants:!0,static:!0}],usesInheritance:!0,ngImport:f,template:"<ng-template cdkPortalOutlet></ng-template>\n",styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],dependencies:[{kind:"directive",type:g.CdkPortalOutlet,selector:"[cdkPortalOutlet]",inputs:["cdkPortalOutlet"],outputs:["attached"],exportAs:["cdkPortalOutlet"]}],changeDetection:f.ChangeDetectionStrategy.Default,encapsulation:f.ViewEncapsulation.None}),f.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:f,type:m,decorators:[{type:r.Component,args:[{selector:"cdk-dialog-container",encapsulation:r.ViewEncapsulation.None,changeDetection:r.ChangeDetectionStrategy.Default,host:{class:"cdk-dialog-container",tabindex:"-1","[attr.id]":"_config.id || null","[attr.role]":"_config.role","[attr.aria-modal]":"_config.ariaModal","[attr.aria-labelledby]":"_config.ariaLabel ? null : _ariaLabelledBy","[attr.aria-label]":"_config.ariaLabel","[attr.aria-describedby]":"_config.ariaDescribedBy || null"},template:"<ng-template cdkPortalOutlet></ng-template>\n",styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"]}]}],ctorParameters:function(){return[{type:f.ElementRef},{type:u.FocusTrapFactory},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[n.DOCUMENT]}]},{type:void 0,decorators:[{type:r.Inject,args:[y]}]},{type:u.InteractivityChecker},{type:f.NgZone},{type:p.OverlayRef},{type:u.FocusMonitor}]},propDecorators:{_portalOutlet:[{type:r.ViewChild,args:[a.CdkPortalOutlet,{static:!0}]}]}});class v{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new l.Subject,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe((e=>{e.keyCode!==s.ESCAPE||this.disableClose||s.hasModifierKey(e)||(e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))})),this.backdropClick.subscribe((()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}))}close(e,t){if(this.containerInstance){const o=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),o.next(e),o.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const C=new r.InjectionToken("DialogScrollStrategy"),D=new r.InjectionToken("DialogData"),b=new r.InjectionToken("DefaultDialogConfig");function k(e){return()=>e.scrollStrategies.block()}const O={provide:C,deps:[o.Overlay],useFactory:k};let A=0;class I{constructor(e,t,o,i,a,n){this._overlay=e,this._injector=t,this._defaultOptions=o,this._parentDialog=i,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new l.Subject,this._afterOpenedAtThisLevel=new l.Subject,this._ariaHiddenElements=new Map,this.afterAllClosed=l.defer((()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(d.startWith(void 0)))),this._scrollStrategy=n}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,t){if((t={...this._defaultOptions||new y,...t}).id=t.id||"cdk-dialog-"+A++,t.id&&this.getDialogById(t.id)&&("undefined"==typeof ngDevMode||ngDevMode))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);const o=this._getOverlayConfig(t),i=this._overlay.create(o),a=new v(i,t),n=this._attachContainer(i,a,t);return a.containerInstance=n,this._attachDialogContent(e,a,n,t),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe((()=>this._removeOpenDialog(a,!0))),this.afterOpened.next(a),a}closeAll(){T(this.openDialogs,(e=>e.close()))}getDialogById(e){return this.openDialogs.find((t=>t.id===e))}ngOnDestroy(){T(this._openDialogsAtThisLevel,(e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)})),T(this._openDialogsAtThisLevel,(e=>e.close())),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const t=new o.OverlayConfig({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,i){const n=i.injector||i.viewContainerRef?.injector,s=[{provide:y,useValue:i},{provide:v,useValue:t},{provide:o.OverlayRef,useValue:e}];let l;i.container?"function"==typeof i.container?l=i.container:(l=i.container.type,s.push(...i.container.providers(i))):l=m;const c=new a.ComponentPortal(l,i.viewContainerRef,r.Injector.create({parent:n||this._injector,providers:s}),i.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,t,o,i){if(e instanceof r.TemplateRef){const n=this._createInjector(i,t,o,void 0);let r={$implicit:i.data,dialogRef:t};i.templateContext&&(r={...r,..."function"==typeof i.templateContext?i.templateContext():i.templateContext}),o.attachTemplatePortal(new a.TemplatePortal(e,null,r,n))}else{const n=this._createInjector(i,t,o,this._injector),r=o.attachComponentPortal(new a.ComponentPortal(e,i.viewContainerRef,n,i.componentFactoryResolver));t.componentInstance=r.instance}}_createInjector(e,t,o,i){const a=e.injector||e.viewContainerRef?.injector,n=[{provide:D,useValue:e.data},{provide:v,useValue:t}];return e.providers&&("function"==typeof e.providers?n.push(...e.providers(t,e,o)):n.push(...e.providers)),!e.direction||a&&a.get(c.Directionality,null,{optional:!0})||n.push({provide:c.Directionality,useValue:{value:e.direction,change:l.of()}}),r.Injector.create({parent:a||i,providers:n})}_removeOpenDialog(e,t){const o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach(((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")})),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let o=t.length-1;o>-1;o--){const i=t[o];i===e||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}function T(e,t){let o=e.length;for(;o--;)t(e[o])}I.ɵfac=f.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:f,type:I,deps:[{token:p.Overlay},{token:f.Injector},{token:b,optional:!0},{token:I,optional:!0,skipSelf:!0},{token:p.OverlayContainer},{token:C}],target:f.ɵɵFactoryTarget.Injectable}),I.ɵprov=f.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"15.0.0",ngImport:f,type:I}),f.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:f,type:I,decorators:[{type:r.Injectable}],ctorParameters:function(){return[{type:p.Overlay},{type:f.Injector},{type:y,decorators:[{type:r.Optional},{type:r.Inject,args:[b]}]},{type:I,decorators:[{type:r.Optional},{type:r.SkipSelf}]},{type:p.OverlayContainer},{type:void 0,decorators:[{type:r.Inject,args:[C]}]}]}});class F{}F.ɵfac=f.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.0",ngImport:f,type:F,deps:[],target:f.ɵɵFactoryTarget.NgModule}),F.ɵmod=f.ɵɵngDeclareNgModule({minVersion:"14.0.0",version:"15.0.0",ngImport:f,type:F,declarations:[m],imports:[o.OverlayModule,a.PortalModule,t.A11yModule],exports:[a.PortalModule,m]}),F.ɵinj=f.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"15.0.0",ngImport:f,type:F,providers:[I,O],imports:[o.OverlayModule,a.PortalModule,t.A11yModule,a.PortalModule]}),f.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.0",ngImport:f,type:F,decorators:[{type:r.NgModule,args:[{imports:[o.OverlayModule,a.PortalModule,t.A11yModule],exports:[a.PortalModule,m],declarations:[m],providers:[I,O]}]}]}),e.CdkDialogContainer=m,e.DEFAULT_DIALOG_CONFIG=b,e.DIALOG_DATA=D,e.DIALOG_SCROLL_STRATEGY=C,e.DIALOG_SCROLL_STRATEGY_PROVIDER=O,e.DIALOG_SCROLL_STRATEGY_PROVIDER_FACTORY=k,e.Dialog=I,e.DialogConfig=y,e.DialogModule=F,e.DialogRef=v,e.throwDialogContentAlreadyAttachedError=_}));
