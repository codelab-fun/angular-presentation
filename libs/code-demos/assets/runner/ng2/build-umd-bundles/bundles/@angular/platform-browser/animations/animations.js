!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/platform-browser"),require("@angular/animations"),require("@angular/animations/browser"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/platform-browser","@angular/animations","@angular/animations/browser","@angular/common"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ngPlatformBrowserAnimations={},e.ngCore,e.ngPlatformBrowser,e.ngAnimations,e.ngAnimationsBrowser,e.ngCommon)}(this,(function(e,t,n,r,i,s){"use strict";function o(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var a=o(t),d=o(i);class c extends r.AnimationBuilder{constructor(e,n){super(),this._nextAnimationId=0;const r={id:"0",encapsulation:t.ViewEncapsulation.None,styles:[],data:{animation:[]}};this._renderer=e.createRenderer(n.body,r)}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?r.sequence(e):e;return h(this._renderer,null,t,"register",[n]),new l(t,this._renderer)}}c.ɵfac=a.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.4",ngImport:a,type:c,deps:[{token:a.RendererFactory2},{token:s.DOCUMENT}],target:a.ɵɵFactoryTarget.Injectable}),c.ɵprov=a.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"15.0.4",ngImport:a,type:c}),a.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.4",ngImport:a,type:c,decorators:[{type:t.Injectable}],ctorParameters:function(){return[{type:a.RendererFactory2},{type:void 0,decorators:[{type:t.Inject,args:[s.DOCUMENT]}]}]}});class l extends r.AnimationFactory{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new m(this._id,e,t||{},this._renderer)}}class m{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return h(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function h(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const u="@",g="@.disabled";class p{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{const n=t?.parentNode(e);n&&t.removeChild(n,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);if(!e){const t=()=>this._rendererCache.delete(n);e=new y("",n,this.engine,t),this._rendererCache.set(n,e)}return e}const r=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(r,i,e,t.name,t)};return t.data.animation.forEach(s),new f(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then((()=>{this._microtaskId++}))}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run((()=>t(n))):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((()=>{this._zone.run((()=>{this._animationCallbacksBuffer.forEach((e=>{const[t,n]=e;t(n)})),this._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)})),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}p.ɵfac=a.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.4",ngImport:a,type:p,deps:[{token:a.RendererFactory2},{token:d.ɵAnimationEngine},{token:a.NgZone}],target:a.ɵɵFactoryTarget.Injectable}),p.ɵprov=a.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"15.0.4",ngImport:a,type:p}),a.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.4",ngImport:a,type:p,decorators:[{type:t.Injectable}],ctorParameters:function(){return[{type:a.RendererFactory2},{type:d.ɵAnimationEngine},{type:a.NgZone}]}});class y{constructor(e,t,n,r){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==u&&t==g?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class f extends y{constructor(e,t,n,r,i){super(t,n,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==u?"."==t.charAt(1)&&t==g?(n=void 0===n||!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==u){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.slice(1),s="";return i.charAt(0)!=u&&([i,s]=function(e){const t=e.indexOf("."),n=e.substring(0,t),r=e.slice(t+1);return[n,r]}(i)),this.engine.listen(this.namespaceId,r,i,s,(e=>{const t=e._data||-1;this.factory.scheduleListenerCallback(t,n,e)}))}return this.delegate.listen(e,t,n)}}class _ extends i["ɵAnimationEngine"]{constructor(e,t,n,r){super(e.body,t,n)}ngOnDestroy(){this.flush()}}_.ɵfac=a.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.4",ngImport:a,type:_,deps:[{token:s.DOCUMENT},{token:d.AnimationDriver},{token:d.ɵAnimationStyleNormalizer},{token:a.ApplicationRef}],target:a.ɵɵFactoryTarget.Injectable}),_.ɵprov=a.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"15.0.4",ngImport:a,type:_}),a.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.4",ngImport:a,type:_,decorators:[{type:t.Injectable}],ctorParameters:function(){return[{type:void 0,decorators:[{type:t.Inject,args:[s.DOCUMENT]}]},{type:d.AnimationDriver},{type:d.ɵAnimationStyleNormalizer},{type:a.ApplicationRef}]}});const A=[{provide:r.AnimationBuilder,useClass:c},{provide:i["ɵAnimationStyleNormalizer"],useFactory:function(){return new i["ɵWebAnimationsStyleNormalizer"]}},{provide:i["ɵAnimationEngine"],useClass:_},{provide:t.RendererFactory2,useFactory:function(e,t,n){return new p(e,t,n)},deps:[n["ɵDomRendererFactory2"],i["ɵAnimationEngine"],t.NgZone]}],v=[{provide:i.AnimationDriver,useFactory:()=>new i["ɵWebAnimationsDriver"]},{provide:t.ANIMATION_MODULE_TYPE,useValue:"BrowserAnimations"},...A],I=[{provide:i.AnimationDriver,useClass:i["ɵNoopAnimationDriver"]},{provide:t.ANIMATION_MODULE_TYPE,useValue:"NoopAnimations"},...A];class b{static withConfig(e){return{ngModule:b,providers:e.disableAnimations?I:v}}}b.ɵfac=a.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.4",ngImport:a,type:b,deps:[],target:a.ɵɵFactoryTarget.NgModule}),b.ɵmod=a.ɵɵngDeclareNgModule({minVersion:"14.0.0",version:"15.0.4",ngImport:a,type:b,exports:[n.BrowserModule]}),b.ɵinj=a.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"15.0.4",ngImport:a,type:b,providers:v,imports:[n.BrowserModule]}),a.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.4",ngImport:a,type:b,decorators:[{type:t.NgModule,args:[{exports:[n.BrowserModule],providers:v}]}]});class D{}D.ɵfac=a.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"15.0.4",ngImport:a,type:D,deps:[],target:a.ɵɵFactoryTarget.NgModule}),D.ɵmod=a.ɵɵngDeclareNgModule({minVersion:"14.0.0",version:"15.0.4",ngImport:a,type:D,exports:[n.BrowserModule]}),D.ɵinj=a.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"15.0.4",ngImport:a,type:D,providers:I,imports:[n.BrowserModule]}),a.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"15.0.4",ngImport:a,type:D,decorators:[{type:t.NgModule,args:[{exports:[n.BrowserModule],providers:I}]}]}),Object.defineProperty(e,"ANIMATION_MODULE_TYPE",{enumerable:!0,get:function(){return t.ANIMATION_MODULE_TYPE}}),e.BrowserAnimationsModule=b,e.NoopAnimationsModule=D,e.provideAnimations=function(){return[...v]},e.provideNoopAnimations=function(){return[...I]},e["ɵAnimationRenderer"]=f,e["ɵAnimationRendererFactory"]=p,e["ɵBrowserAnimationBuilder"]=c,e["ɵBrowserAnimationFactory"]=l,e["ɵInjectableAnimationEngine"]=_}));
